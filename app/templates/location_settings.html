{% extends "header.html" %}
{% block body %}
    
    <h3>Create Location</h3>
    
    <div id="new_loc_form">
        <form id="new_loc">
            <p>Please enter the following details to create a new location:</p>
            <input type="text" placeholder = "Name of location" id = "name" name="name">
            <br>
            <input type="text" placeholder = "Code" id = "code" name="code">
            <br>
            Open at: <select class="timeSelect"
                             name = "open_at"></select>
                             <br>
            Close at: <select class="timeSelect"
                             name = "close_at"></select>
            <br>
            Student Type Needed:
            <input type="radio"  name="type_code" value="0" checked> Any Tutor Type
            <input type="radio" name="type_code" value="1"> Returners Only
            <br>
            <button type="button" class="btn btn-success" onclick="make_new_location()">SUBMIT</button>
        </form>
    </div>

    <ul class="nav nav-tabs">
        {% for l in all_locations %}
            <li class="{{ 'active' if l.code == location.code }}"><a href="{{url_for('location', loc_id=l.code)}}">{{l.name}}</a></li>
        {% else %}
            No locations to show
        {% endfor %}
    </ul>
    
    <br>
    <div id="location-table"></div>
    <br>
    <button class="btn btn-success" onclick="confirm_delete_loc({{location.code}})">DELETE</button>
    <script type="text/javascript">
                    // Issue: This sometimes loads and runs before the source script is available.
                    // TODO: Fix...
                    window.onload = location_settings_init;
     </script>
{% endblock %}
